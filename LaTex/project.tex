\documentclass{article}
\usepackage[greek,english]{babel}
\usepackage[utf8]{inputenc}
\usepackage{alphabeta}
\usepackage{graphicx}
\usepackage[margin=1in]{geometry}
\usepackage{listings}

\begin{document}
% \sffamily
% \ttfamily

\title{E - Broker: Μια λεπτομερής ανάλυση}
\author{
	Ιωάννης Χείλαρης - 1115201500176
	\\
	Ιωάννης Μαλιάρας - 1115201500084
}

\maketitle

\newpage
\tableofcontents


\newpage
\section{Εισαγωγή}
	Στα πλαίσια αυτής της εργασίας, θα σχεδιάσουμε μια εφαρμογή Ιστού για τη διαβίβαση εντολών αγοράς και πώλησης μετοχών μιας εταιρίας.
	Αρχικά, θα μελετήσουμε τις απαιτήσεις του παραπάνω συστήματος με τη χρήση μεθόδων δομημένης ανάλυσης.

	
\newpage
\section{Δομημένη Ανάλυση}
	\subsection{Γενικό Διάγραμμα Ροής Δεδομένων}

		\subsection*{Παραδοχές}
		\begin{itemize}
			\item Το ΧΑΑ προμηθεύει το σύστημα E-Broker με όλα τα δεδομένα των μετοχών που διατίθενται προς αγοραπωλησία.
			\item Το ΧΑΑ ενημερώνει το σύστημα E-Broker περί της διαθεσιμότητας του (σε περίπτωση αργίας), αλλά και όλων των μετοχών που διατίθεται προς αγοραπωλησία
		\end{itemize}

		Τα 2 παραπάνω συνοψίζονται στο βέλος "Δεδομένα Μετοχών".

		\begin{figure}[!h]
			\includegraphics[width=\linewidth]{../Structured_Analysis/General_Diagram.png}
		\end{figure}
	
	\newpage
	\subsection{Διάγραμμα Ροής Δεδομένων Επιπέδου 1}
	\subsection*{Παραδοχές}
	\begin{itemize}
		\item Θεωρούμε οτι η διαδικασία διαχείρισης εντολών είναι αυτή που ενημερώνει τον πελάτη για απόρριψη εντολών μετά την αρχική αποδοχή τους από το ΧΑΑ.
		Αυτή η λειτουργία συνοψίζεται από τις ροές δεδομένων "Αποδοχή/Απόρριψη" και "Ενημέρωση Κατάστασης Εντολής".
	\end{itemize}

	\begin{figure}[!h]
		\includegraphics[width=\linewidth]{../Structured_Analysis/Level_1_Diagram.png}
	\end{figure}

	\newpage
	\subsection{Διάγραμμα Ροής Δεδομένων Επιπέδου 2}
	\subsection*{Παραδοχές}
	Η διαδικασία "2. Διεπαφή Διαβίβασης Εντολής" αναλύεται στις παρακάτω υποδιαδικασίες.
	\begin{itemize}
		\item 3.1 Επεξεργασία εντολής: 
			\begin{itemize}
				\item Ανάλυση εντολής.
				\item Πιστοποίηση πληρότητας στοιχείων χρήστη.
			\end{itemize}
		
		\item 3.2 Πληρωμή
			\begin{itemize}
				\item Διεκπεραίωση συναλλαγής με την τράπεζα.
			\end{itemize}

		\item 3.3 Επικοινωνία ΧΑΑ:
			\begin{itemize}
				\item Αποστολή εντολής στο ΧΑΑ.
				\item Συλλογή απόκρισης (Αποδοχή / Απόρριψη) από ΧΑΑ.
				\item Συλλογή αναφοράς εκκαθάρισης.
				\item Διαβίβαση πληροφορίας σε άλλες διεργασίες και σε πελάτη.
			\end{itemize}

		\item 3.4 Ενημέρωση Μερίδων:
		\begin{itemize}
			\item Υπολογισμός προμήθειας και λοιπών οικονομικών στοιχείων.
			\item Ενημέρωση μερίδας τίτλων πελάτη.
			\item Ενημέρωση ταμειακής μερίδας πελάτη.
		\end{itemize}
	\end{itemize}

	\begin{figure}[!h]
		\includegraphics[width=\linewidth]{../Structured_Analysis/Level_2_Diagram.png}
	\end{figure}

\newpage
\subsection{Προδιαγραφή διαδικασίας διαβίβασης εντολής σε Δομημένα Αγγλικά}
\begin{lstlisting}
authorize_user

IF user_authorized = true
  parse_command

  IF command_is_valid = true
    authorize_payment_with_bank

    IF payment_is_valid = true
      send_command_data_to_xaa

	  IF command_is_accepted = true

	  // Asynchronous behaviour

	  await_for_xaa_execution_response
	  .then({
		IF response_is_error = true
		  send_xaa_execution_error_to_client
		ELSE
		  send_client_xaa_report
		  calculate_commission
		  update_client_portfolio
	  })

	  ELSE
	    send_xaa_error_to_client

    ELSE
      send_payment_error_to_client

  ELSE
    send_parse_error_to_client

ELSE
  send_authorization_error_to_client

redirect_to_ui

\end{lstlisting}

\newpage
\subsection{Προδιαγραφή διαδικασίας υπολογισμού προμήθειας σε Πίνακα Απόφασης}
\begin{center}
\addtolength\tabcolsep{5pt}
\begin{tabular}{ ||c|ccc|| } 
	 \hline
	 Όγκος Μετοχών & 0 - O1 & O1 - O2 & $>$ O2 \\
	 \hline
	 Προμήθεια & Π1\% & Π2\% & Π3\%\\  
	 \hline
\end{tabular}
\end{center}

\subsection{Προδιαγραφή διαδικασίας σύνδεσης του πελάτη στο σύστημα σε Δένδρο Απόφασης}

\begin{figure}[!h]
	\includegraphics[width=\linewidth]{../Structured_Analysis/Decision_Tree.png}
\end{figure}

\subsection{Προδιαγραφή Λεξικού Δεδομένων αναφοράς εκκαθάρισης εντολής}
\begin{itemize}
\item Αναφορά = Αναλυτική παράθεση πράξεων αγοράς ή πώλησης + Γενικό σύνολο όγκου αγοράς + 
Συνολικό πλήθος μετοχών + Προμήθεια χρηματιστικής εταιρίας
\item Αναλυτική παράθεση πράξεων αγοράς ή πώλησης = \{Επωνυμία μετοχών + Είδος πράξης + Τιμή
 + Χρόνος + Αριθμοί τίτλων μετοχών + Πλήθος μετοχών + Συνολικό τίμημα\}
\item Είδος πράξης = [Αγορά, Πώληση]
\item Χρόνος = Ημερομηνία + Ώρα
\end{itemize}

\newpage
\section{Επίλογος}



\end{document}